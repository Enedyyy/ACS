
<template>
	<header class="topbar">
		<div class="brand">ðŸ’° FinTrack</div>
		<nav class="nav">
			<div class="nav-right">
				<!-- ÐœÐµÐ½ÑŽ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ (Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ…) -->
				<div v-if="user" class="user-menu-wrapper">
					<div class="user-trigger" @mouseenter="showUserMenu = true" @mouseleave="showUserMenu = false">
						<div class="user-badge">ðŸ‘¤ <span>{{ user.username }}</span></div>
						<!-- Ð’Ñ‹Ð¿Ð°Ð´Ð°ÑŽÑ‰ÐµÐµ Ð¼ÐµÐ½ÑŽ: Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ñ‚ÐµÐ¼Ñ‹ Ð¸ Ð²Ñ‹Ñ…Ð¾Ð´ -->
						<div v-if="showUserMenu" class="user-dropdown" @mouseenter="showUserMenu = true" @mouseleave="showUserMenu = false">
							<div class="user-menu-item" @click="$emit('toggle-theme')">
								<span class="menu-icon">ðŸŒ“</span>
								<span class="menu-text">Ð¢ÐµÐ¼Ð°</span>
							</div>
							<div class="user-menu-divider"></div>
							<div class="user-menu-item logout-item" @click="$emit('logout')">
								<span class="menu-icon">ðŸšª</span>
								<span class="menu-text">Ð’Ñ‹Ð¹Ñ‚Ð¸</span>
							</div>
						</div>
					</div>
				</div>
				<button v-if="!user" @click="$emit('show-auth')">Ð’Ð¾Ð¹Ñ‚Ð¸</button>
			</div>
		</nav>
	</header>
</template>

<script lang="ts" setup>
import { ref } from 'vue';

defineProps<{ user: { username: string } | null }>();
defineEmits<{
	'toggle-theme': [];
	'show-auth': [];
	'logout': [];
}>();

const showUserMenu = ref(false);
</script>

